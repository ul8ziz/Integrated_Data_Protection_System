# ØªÙ‚Ø±ÙŠØ± ÙÙ†ÙŠ Ø´Ø§Ù…Ù„ - Ù†Ø¸Ø§Ù… Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„
# Comprehensive Technical Report - Integrated Data Protection System

---

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª / Table of Contents

1. [Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ ÙˆØ§Ø¬Ù‡Ù†Ø§Ù‡Ø§ ÙˆÙƒÙŠÙ ØªÙ… Ø­Ù„Ù‡Ø§](#1-Ø§Ù„Ù…Ø´Ø§ÙƒÙ„-Ø§Ù„ØªÙŠ-ÙˆØ§Ø¬Ù‡Ù†Ø§Ù‡Ø§-ÙˆÙƒÙŠÙ-ØªÙ…-Ø­Ù„Ù‡Ø§)
2. [ÙƒÙŠÙ ØªÙ… Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#2-ÙƒÙŠÙ-ØªÙ…-Ø¨Ù†Ø§Ø¡-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
3. [Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§ØªÙŠ MyDLP Ùˆ Presidio](#3-Ø¥Ø¶Ø§ÙØ©-Ø£Ø¯Ø§ØªÙŠ-mydlp-Ùˆ-presidio)
4. [Ø´Ø±Ø­ ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ø£Ø¯Ø§ØªÙŠÙ† Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯](#4-Ø´Ø±Ø­-ÙƒÙŠÙÙŠØ©-Ø¹Ù…Ù„-Ø§Ù„Ø£Ø¯Ø§ØªÙŠÙ†-Ù…Ø¹-Ø§Ù„ÙƒÙˆØ¯)
5. [Ø´Ø±Ø­ Ø·Ø±ÙŠÙ‚Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª](#5-Ø´Ø±Ø­-Ø·Ø±ÙŠÙ‚Ø©-ØªØ­Ù„ÙŠÙ„-Ø§Ù„Ù…Ù„ÙØ§Øª)

---

## 1. Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ ÙˆØ§Ø¬Ù‡Ù†Ø§Ù‡Ø§ ÙˆÙƒÙŠÙ ØªÙ… Ø­Ù„Ù‡Ø§

### 1.1 Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ù†Ù…Ø§Ø°Ø¬ Spacy ÙÙŠ Presidio

#### 1.1.1 ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

Ø®Ù„Ø§Ù„ Ù…Ø±Ø­Ù„Ø© ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ ÙˆØ§Ø¬Ù‡Ù†Ø§ ØªØ­Ø¯ÙŠØ§Ù‹ ØªÙ‚Ù†ÙŠØ§Ù‹ ÙŠØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ù…ÙƒØªØ¨Ø© **Microsoft Presidio** Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© ÙÙŠ Ø§Ù„Ù†ØµÙˆØµ. ÙŠØ¹ØªÙ…Ø¯ Presidio Ø¹Ù„Ù‰ Ù…ÙƒØªØ¨Ø© **Spacy** ÙˆØ®Ø§ØµØ© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ (Pre-trained Models) Ù…Ø«Ù„ `en_core_web_sm` Ù„ØªÙˆÙÙŠØ± Ù‚Ø¯Ø±Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© (NLP) Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.

**Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„ØªÙ‚Ù†ÙŠ:**
- Presidio ÙŠØ³ØªØ®Ø¯Ù… ØªÙ‚Ù†ÙŠØ§Øª NLP Ù„Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
- Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ ÙŠÙ…ÙŠØ² Ø¨ÙŠÙ† Ø±Ù‚Ù… Ø¹Ø§Ø¯ÙŠ Ù…Ø«Ù„ "12345" ÙˆØ±Ù‚Ù… Ù‡Ø§ØªÙ Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ø«Ù„ "050-123-4567"
- Spacy ØªÙˆÙØ± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù„ØºÙˆÙŠØ© Ø§Ù„Ù…Ø¯Ø±Ø¨Ø© Ø§Ù„ØªÙŠ ØªÙ…ÙƒÙ† Presidio Ù…Ù† ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù„ØºÙˆÙŠØ©

**Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
ÙˆØ§Ø¬Ù‡Ù†Ø§ Ø«Ù„Ø§Ø« ØªØ­Ø¯ÙŠØ§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:

1. **ØªØ¹Ù‚ÙŠØ¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ«Ø¨ÙŠØª:**
   - Ù†Ù…Ø§Ø°Ø¬ Spacy ÙƒØ¨ÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù… (ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 100-500 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)
   - ØªØªØ·Ù„Ø¨ Ø¹Ù…Ù„ÙŠØ© ØªØ­Ù…ÙŠÙ„ Ù…Ù†ÙØµÙ„Ø© Ø¹Ø¨Ø± Ø§Ù„Ø£Ù…Ø±: `python -m spacy download en_core_web_sm`
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª WindowsØŒ Ù‚Ø¯ ØªÙØ´Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø³Ø¨Ø¨ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø£Ùˆ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ (Ù…Ø«Ù„ Ø§Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ© Ø§Ù„ØµØºÙŠØ±Ø©)ØŒ Ù‚Ø¯ Ù„Ø§ ØªØªÙˆÙØ± Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ† ÙƒØ§ÙÙŠØ©

2. **Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø¨ÙŠØ¦Ø© Ù…Ø­Ø¯Ø¯Ø©:**
   - Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø¥ØµØ¯Ø§Ø±Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ù…Ù† Python Ùˆ Spacy
   - Ù‚Ø¯ Ù„Ø§ ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ© (Docker containersØŒ Cloud environmentsØŒ Ø¥Ù„Ø®)
   - Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø¯ Ù„Ø§ ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

3. **ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…:**
   - Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ØªÙˆÙØ± Ù†Ù…Ø§Ø°Ø¬ SpacyØŒ Presidio ÙŠØ±Ù…ÙŠ Ø§Ø³ØªØ«Ù†Ø§Ø¡ (Exception) ÙˆÙŠØªÙˆÙ‚Ù
   - Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§Ù† ÙŠÙØ´Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù†Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Presidio
   - Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© ØªØ«Ø¨ÙŠØª Presidio Ù†ÙØ³Ù‡

#### 1.1.2 Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© **Graceful Degradation** (Ø§Ù„ØªØ¯Ù‡ÙˆØ± Ø§Ù„ØªØ¯Ø±ÙŠØ¬ÙŠ) Ø§Ù„ØªÙŠ ØªØ³Ù…Ø­ Ù„Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©.

**Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ù…ØªØ¨Ø¹:**
ØªÙ… ØªØµÙ…ÙŠÙ… Ù†Ø¸Ø§Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª (Multi-tier Fallback System) ÙŠØªÙƒÙˆÙ† Ù…Ù† Ø«Ù„Ø§Ø« Ø·Ø¨Ù‚Ø§Øª:

1. **Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Presidio Ù…Ø¹ Spacy**
2. **Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Presidio Ø¨Ø¯ÙˆÙ† Spacy (Ø¥Ù† Ø£Ù…ÙƒÙ†)**
3. **Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù†Ù…Ø§Ø· Regex ÙƒØ¨Ø¯ÙŠÙ„ Ù†Ù‡Ø§Ø¦ÙŠ**

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ:**

**Ø£) Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Presidio:**
ÙÙŠ Ù…Ù„Ù `backend/app/services/presidio_service.py` (Ø§Ù„Ø³Ø·ÙˆØ± 12-18)ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø¹Ù†Ø¯ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Presidio:

```python
try:
    from presidio_analyzer import AnalyzerEngine
    from presidio_analyzer.nlp_engine import NlpEngineProvider
    PRESIDIO_AVAILABLE = True
except ImportError:
    PRESIDIO_AVAILABLE = False
    logger.info("Presidio not installed. Using regex fallback for entity detection.")
```

**Ø¨) Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Ù†Ù…Ø§Ø°Ø¬ Spacy:**
ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ù„Ù (Ø§Ù„Ø³Ø·ÙˆØ± 32-44)ØŒ Ø£Ø¶ÙÙ†Ø§ Ù…Ù†Ø·Ù‚ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆÙ…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…Ø§Ø°Ø¬ Ø¨Ø¯ÙŠÙ„Ø©:

```python
try:
    import spacy
    if not spacy.util.is_package("en_core_web_sm"):
        if spacy.util.is_package("xx_core_web_sm"):
            model_name = "xx_core_web_sm"  # Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¯ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª
        else:
            raise OSError("No spacy model found")
    else:
        model_name = "en_core_web_sm"
except (ImportError, OSError):
    raise  # Ø±ÙØ¹ Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰
```

**Ø¬) Ù†Ø¸Ø§Ù… Fallback Ø¹Ù†Ø¯ Ø§Ù„ÙØ´Ù„:**
Ø¹Ù†Ø¯ ÙØ´Ù„ ØªÙ‡ÙŠØ¦Ø© Presidio (Ø§Ù„Ø³Ø·ÙˆØ± 65-69)ØŒ ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† `self.analyzer = None` ÙˆØ§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Regex:

```python
except Exception as e:
    # Presidio initialization failed (likely missing Spacy models)
    # This is expected and handled gracefully with regex fallback
    self.analyzer = None
    logger.info(f"Presidio not available (missing Spacy models). Using regex fallback for entity detection.")
```

**Ø¯) Ù†Ø¸Ø§Ù… Regex Ø§Ù„Ø¨Ø¯ÙŠÙ„:**
ØªÙ… ØªØ·ÙˆÙŠØ± Ø¯Ø§Ù„Ø© `_analyze_with_regex()` (Ø§Ù„Ø³Ø·ÙˆØ± 73-110) ØªØ³ØªØ®Ø¯Ù… Ø£Ù†Ù…Ø§Ø· Regex Ù…Ø­Ø¯Ø¯Ø© Ù„Ø§ÙƒØªØ´Ø§Ù:
- Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ: `r'\b(?:\+?\d{1,3}[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}\b'`
- Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: `r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'`
- Ø£Ø±Ù‚Ø§Ù… Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†: `r'\b\d{4}[-.\s]?\d{4}[-.\s]?\d{4}[-.\s]?\d{4}\b'`

**Ù‡Ù€) Ù…Ù†Ø·Ù‚ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:**
ÙÙŠ Ø¯Ø§Ù„Ø© `analyze()` (Ø§Ù„Ø³Ø·ÙˆØ± 127-158)ØŒ ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆÙØ± Presidio Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:

```python
if self.analyzer is not None:
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… Presidio Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
    results = self.analyzer.analyze(text=text, language=language, entities=self.supported_entities)
    return detected_entities
else:
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… Regex ÙƒØ¨Ø¯ÙŠÙ„
    detected_entities = self._analyze_with_regex(text)
    return detected_entities
```

#### 1.1.3 Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…

**Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:**
1. âœ… **Ø§Ù„Ù…Ø±ÙˆÙ†Ø©:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Presidio Ø£Ùˆ Spacy
2. âœ… **Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±:** Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„ØªØ«Ø¨ÙŠØªØŒ Ø¨Ù„ ÙŠÙ†ØªÙ‚Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø¯ÙŠÙ„
3. âœ… **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±:** ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø¯ÙˆÙ† Ù‚Ù„Ù‚ Ù…Ù† Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
4. âœ… **ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:** Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† ÙŠÙ…ÙƒÙ†Ù‡Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

**Ø§Ù„Ù…Ù‚Ø§ÙŠØ¶Ø© (Trade-off):**
- **Ø§Ù„Ø¯Ù‚Ø©:** Ù†Ø¸Ø§Ù… Regex Ø£Ù‚Ù„ Ø¯Ù‚Ø© Ù…Ù† Presidio ÙÙŠ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© (Ø­ÙˆØ§Ù„ÙŠ 70-80% Ù…Ù‚Ø§Ø¨Ù„ 90-95%)
- **Ø§Ù„Ø£Ø¯Ø§Ø¡:** Regex Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù„ÙƒÙ† Ø£Ù‚Ù„ Ø°ÙƒØ§Ø¡Ù‹ ÙÙŠ ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚

**Ø§Ù„Ø®Ù„Ø§ØµØ©:**
Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ ÙŠÙˆÙØ± ØªÙˆØ§Ø²Ù†Ø§Ù‹ Ø¬ÙŠØ¯Ø§Ù‹ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±ÙˆÙ†Ø© ÙˆØ§Ù„ÙˆØ¸ÙŠÙÙŠØ©ØŒ Ø­ÙŠØ« ÙŠØ¶Ù…Ù† Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ù…Ù† Presidio Ø¹Ù†Ø¯ ØªÙˆØ§ÙØ±Ù‡.

---

### 1.2 Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø© MyDLP Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©

#### 1.2.1 ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

ÙÙŠ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¯Ù…Ø¬ **MyDLP** (Ù†Ø¸Ø§Ù… Ù…Ù†Ø¹ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±) ÙƒØ£Ø¯Ø§Ø© Ù„ØªÙ†ÙÙŠØ° Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†Ø¹ Ø§Ù„ÙØ¹Ù„ÙŠØ©. ÙŠØ¹Ù…Ù„ MyDLP ÙƒØ·Ø¨Ù‚Ø© ØªÙ†ÙÙŠØ°ÙŠØ© (Enforcement Layer) ØªÙ…Ù†Ø¹ Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ø¹Ø¨Ø± Ù‚Ù†ÙˆØ§Øª Ù…Ø®ØªÙ„ÙØ© (Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø§Ù„ÙˆÙŠØ¨ØŒ USBØŒ Ø¥Ù„Ø®).

**Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ:**
- **Presidio:** ÙŠÙƒØªØ´Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© ÙÙŠ Ø§Ù„Ù†ØµÙˆØµ
- **Policy Service:** ÙŠÙ‚Ø±Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
- **MyDLP:** ÙŠÙ†ÙØ° Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†Ø¹ ÙØ¹Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ø¨ÙƒØ©

**Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
ÙˆØ§Ø¬Ù‡Ù†Ø§ Ø«Ù„Ø§Ø« ØªØ­Ø¯ÙŠØ§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:

1. **ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯:**
   - MyDLP ÙŠØªØ·Ù„Ø¨ ØªØ«Ø¨ÙŠØª Ø¹Ø¯Ø© Ù…ÙƒÙˆÙ†Ø§Øª (Erlang/OTPØŒ MySQL/MariaDBØŒ Ø¥Ù„Ø®)
   - ÙŠØ­ØªØ§Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø¯Ù… Ù…Ù†ÙØµÙ„ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ù…Ù†ÙØ° 8080
   - ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„ØªØ«Ø¨ÙŠØª Ù…Ø±ØºÙˆØ¨Ø§Ù‹ Ø£Ùˆ Ù…ØªØ§Ø­Ø§Ù‹
   - ÙŠØªØ·Ù„Ø¨ Ù…Ø¹Ø±ÙØ© ØªÙ‚Ù†ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ù‡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

2. **Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø© Ø®Ø§Ø±Ø¬ÙŠØ©:**
   - Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹ MyDLP Ø¹Ø¨Ø± HTTP API
   - Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§Ù† ÙŠØ±Ù…ÙŠ Ø§Ø³ØªØ«Ù†Ø§Ø¡ ÙˆÙŠØªÙˆÙ‚Ù ØªÙ…Ø§Ù…Ø§Ù‹
   - Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙˆÙ† ØªØ«Ø¨ÙŠØª MyDLP Ø§Ù„ÙƒØ§Ù…Ù„
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† MyDLP Ø¹Ù„Ù‰ Ø®Ø§Ø¯Ù… Ù…Ù†ÙØµÙ„ Ù…Ù…Ø§ ÙŠØ²ÙŠØ¯ Ù…Ù† Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„

3. **ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø¯ÙˆØ±Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±:**
   - Ø§Ù„Ù…Ø·ÙˆØ±ÙˆÙ† Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ÙˆÙ† ØªØ·ÙˆÙŠØ± Ø£Ùˆ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙˆÙ† ØªØ«Ø¨ÙŠØª MyDLP
   - Ù‡Ø°Ø§ ÙŠØ¨Ø·Ø¦ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆÙŠØ¬Ø¹Ù„Ù‡Ø§ Ù…Ø¹Ù‚Ø¯Ø©
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª CI/CDØŒ Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† ØªØ«Ø¨ÙŠØª MyDLP Ø¹Ù…Ù„ÙŠØ§Ù‹

#### 1.2.2 Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù†Ù…Ø· **Simulation Mode** (ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©) Ø§Ù„Ø°ÙŠ ÙŠØ³Ù…Ø­ Ù„Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± MyDLP.

**Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ù…ØªØ¨Ø¹:**
ØªÙ… ØªØµÙ…ÙŠÙ… Ø®Ø¯Ù…Ø© MyDLP Ù„ØªÙƒÙˆÙ† **Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹** (Fully Optional) Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©:

1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø©:** ÙØ­Øµ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª MyDLP Ù…ÙØ¹Ù„Ø© ÙˆÙ…ØªØ§Ø­Ø©
2. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ù‡Ø§Ø¯Ø¦:** Ø¹Ø¯Ù… Ø±ÙØ¹ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„
3. **Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:** Ø¥Ø±Ø¬Ø§Ø¹ Ù†ØªØ§Ø¦Ø¬ Ù…Ø­Ø§ÙƒÙŠØ© Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ø®Ø¯Ù…Ø©

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ:**

**Ø£) ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒÙŠ:**
ÙÙŠ Ù…Ù„Ù `backend/app/services/mydlp_service.py` (Ø§Ù„Ø³Ø·ÙˆØ± 15-29):

```python
def __init__(self):
    self.enabled = settings.MYDLP_ENABLED
    self.api_url = settings.MYDLP_API_URL.rstrip('/')
    self.is_localhost = "localhost" in self.api_url or "127.0.0.1" in self.api_url
    
    if self.enabled:
        logger.info(f"MyDLP service initialized with API URL: {self.api_url}")
        if self.is_localhost:
            logger.info("MyDLP running in localhost mode - monitoring local machine")
    else:
        logger.info("MyDLP service is disabled")
```

**Ø¨) Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ø§Øª API Ù…Ø¹ Fallback:**
ÙÙŠ Ø¯Ø§Ù„Ø© `_make_request()` (Ø§Ù„Ø³Ø·ÙˆØ± 43-79)ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ù‡Ø§Ø¯Ø¦:

```python
def _make_request(self, method: str, endpoint: str, data: Dict = None):
    if not self.enabled:
        return None  # Ø¥Ø±Ø¬Ø§Ø¹ None Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø±ÙØ¹ Ø®Ø·Ø£
    
    try:
        response = requests.request(method=method, url=url, json=data, headers=headers, timeout=timeout)
        response.raise_for_status()
        return response.json() if response.content else {}
    except requests.exceptions.ConnectionError as e:
        if self.is_localhost:
            # ÙÙŠ localhostØŒ Ù„Ø§ Ù†Ø¹ØªØ¨Ø±Ù‡ Ø®Ø·Ø£ (ÙˆØ¶Ø¹ Ù…Ø­Ø§ÙƒØ§Ø© Ù…ØªÙˆÙ‚Ø¹)
            logger.debug("MyDLP not running on localhost (simulation mode)")
            return None
        else:
            logger.error(f"Error connecting to MyDLP: {e}")
            return None
    except requests.exceptions.RequestException as e:
        logger.error(f"Error making MyDLP request: {e}")
        return None
```

**Ø¬) Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø¹ Ù…Ø¹ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©:**
ÙÙŠ Ø¯Ø§Ù„Ø© `block_data_transfer()` (Ø§Ù„Ø³Ø·ÙˆØ± 81-116):

```python
def block_data_transfer(self, source_ip: str, destination: str, 
                      detected_entities: List[Dict], reason: str = None) -> bool:
    if not self.enabled:
        logger.debug("MyDLP disabled, simulating block (returning True)")
        return True  # Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ù†Ø¹ Ø§Ù„Ù†Ø§Ø¬Ø­
    
    try:
        result = self._make_request("POST", "/api/v1/block", data)
        if result:
            logger.info(f"Data transfer blocked: {source_ip} -> {destination}")
            return True
        return False
    except Exception as e:
        logger.error(f"Error blocking data transfer: {e}")
        return False  # Ø¥Ø±Ø¬Ø§Ø¹ False Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø±ÙØ¹ Ø§Ø³ØªØ«Ù†Ø§Ø¡
```

**Ø¯) Ø¯Ø§Ù„Ø© Ù…Ù†Ø¹ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø¹ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©:**
Ù†ÙØ³ Ø§Ù„Ù†Ù‡Ø¬ Ù…Ø·Ø¨Ù‚ ÙÙŠ `block_email()` (Ø§Ù„Ø³Ø·ÙˆØ± 143-173).

#### 1.2.3 Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…

**Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:**
1. âœ… **Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© Ø§Ù„ØªØ·ÙˆÙŠØ±:** Ø§Ù„Ù…Ø·ÙˆØ±ÙˆÙ† ÙŠÙ…ÙƒÙ†Ù‡Ù… ØªØ·ÙˆÙŠØ± ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙˆÙ† ØªØ«Ø¨ÙŠØª MyDLP
2. âœ… **Ø§Ù„Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø§Ù„Ù†Ø´Ø±:** ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ù…Ø¹ Ø£Ùˆ Ø¨Ø¯ÙˆÙ† MyDLP
3. âœ… **Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø©:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ MyDLP
4. âœ… **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„:** ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ MyDLP Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„ÙƒÙˆØ¯

**Ø§Ù„Ù…Ù‚Ø§ÙŠØ¶Ø© (Trade-off):**
- **Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„ÙØ¹Ù„ÙŠ:** ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©ØŒ Ù„Ø§ ÙŠØªÙ… Ù…Ù†Ø¹ Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙØ¹Ù„ÙŠØ§Ù‹ØŒ Ù„ÙƒÙ† ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
- **Ø§Ù„ÙˆØ¶ÙˆØ­:** ÙŠØ¬Ø¨ ØªÙˆØ«ÙŠÙ‚ Ø£Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ ÙˆØ¶Ø¹ Ù…Ø­Ø§ÙƒØ§Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

**Ø§Ù„Ø®Ù„Ø§ØµØ©:**
Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ ÙŠÙˆÙØ± Ù…Ø±ÙˆÙ†Ø© ÙƒØ¨ÙŠØ±Ø© ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ù†Ø´Ø± Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† MyDLP Ø¹Ù†Ø¯ ØªÙˆØ§ÙØ±Ù‡.

---

### 1.3 Ù…Ø´ÙƒÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„ØµÙŠØº

#### 1.3.1 ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

Ø£Ø­Ø¯ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù… Ù‡Ùˆ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© (PDFØŒ DOCXØŒ XLSX) Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©. Ù†Ø¸Ø±Ø§Ù‹ Ù„Ø£Ù† Presidio ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØµÙˆØµ ÙÙ‚Ø· ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ†Ù‡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ ØªØ·ÙˆÙŠØ± Ø¢Ù„ÙŠØ© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„.

**Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ:**
- **Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„:** Ù…Ù„Ù â†’ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ â†’ Presidio â†’ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- **Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:** Ø¯Ø¹Ù… ØµÙŠØº Ù…ØªØ¹Ø¯Ø¯Ø© (PDFØŒ DOCXØŒ XLSXØŒ TXT)

**Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
ÙˆØ§Ø¬Ù‡Ù†Ø§ Ø«Ù„Ø§Ø« ØªØ­Ø¯ÙŠØ§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:

1. **ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
   - ÙƒÙ„ Ù†ÙˆØ¹ Ù…Ù„Ù ÙŠØ­ØªØ§Ø¬ Ù…ÙƒØªØ¨Ø© Ù…Ø®ØªÙ„ÙØ©:
     - **PDF:** `pdfplumber` Ø£Ùˆ `PyPDF2`
     - **DOCX:** `python-docx`
     - **XLSX:** `openpyxl`
     - **XLS:** `xlrd`
   - Ù‡Ø°Ø§ ÙŠØ²ÙŠØ¯ Ù…Ù† ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª (Dependencies)

2. **Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªØ«Ø¨ÙŠØª:**
   - Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø¯ Ù„Ø§ ÙŠØ«Ø¨Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
   - Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª ÙƒØ¨ÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù… (Ù…Ø«Ù„ `pdfplumber` ÙŠØ­ØªØ§Ø¬ Ù…ÙƒØªØ¨Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©)
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ØŒ Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ù…Ø±ØºÙˆØ¨Ø§Ù‹

3. **ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù…:**
   - Ø¹Ù†Ø¯ Ø±ÙØ¹ Ù…Ù„Ù Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŒ Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§Ù† ÙŠØ±Ù…ÙŠ Ø§Ø³ØªØ«Ù†Ø§Ø¡ ÙˆÙŠØªÙˆÙ‚Ù
   - Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª ØµÙŠØº Ø£Ø®Ø±Ù‰ Ù…Ø¯Ø¹ÙˆÙ…Ø©
   - Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙŠÙ„ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ

#### 1.3.2 Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© **Multiple Library Support** (Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ù„Ù„Ù…ÙƒØªØ¨Ø§Øª) Ù…Ø¹ Ù†Ø¸Ø§Ù… Fallback Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªØ¯Ø¹Ù… Ø£ÙƒØ«Ø± Ù…Ù† Ù…ÙƒØªØ¨Ø©.

**Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ù…ØªØ¨Ø¹:**
1. **Ø¯Ø¹Ù… Ù…ÙƒØªØ¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù†ÙØ³ Ø§Ù„ØµÙŠØºØ©:** Ø®Ø§ØµØ© Ù„Ù…Ù„ÙØ§Øª PDF
2. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø®Ø·Ø§Ø¡:** Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ø¶Ø­Ø© Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª
3. **ØªØµÙ…ÙŠÙ… Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹:** Ø³Ù‡ÙˆÙ„Ø© Ø¥Ø¶Ø§ÙØ© ØµÙŠØº Ø¬Ø¯ÙŠØ¯Ø©

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ:**

**Ø£) Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©:**
ÙÙŠ Ù…Ù„Ù `backend/app/services/file_extractor_service.py` (Ø§Ù„Ø³Ø·ÙˆØ± 14-23)ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù…ÙˆØ³ ÙŠØ±Ø¨Ø· ÙƒÙ„ ØµÙŠØºØ© Ø¨Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:

```python
def __init__(self):
    self.supported_formats = {
        '.txt': self._extract_txt,      # Ù†Øµ Ø¹Ø§Ø¯ÙŠ
        '.pdf': self._extract_pdf,       # PDF
        '.docx': self._extract_docx,     # Word
        '.xlsx': self._extract_xlsx,     # Excel
        '.xls': self._extract_xls,      # Excel Ù‚Ø¯ÙŠÙ…
    }
```

**Ø¨) Ø§Ø³ØªØ®Ø±Ø§Ø¬ PDF Ù…Ø¹ Ø¯Ø¹Ù… Ù…ÙƒØªØ¨ØªÙŠÙ†:**
ÙÙŠ Ø¯Ø§Ù„Ø© `_extract_pdf()` (Ø§Ù„Ø³Ø·ÙˆØ± 72-121)ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø§Ù… Fallback Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª:

```python
def _extract_pdf(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    text = ""
    
    # Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1: Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… pdfplumber (Ø£ÙØ¶Ù„ Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©)
    try:
        import pdfplumber
        if file_content:
            pdf_file = io.BytesIO(file_content)
            with pdfplumber.open(pdf_file) as pdf:
                for page in pdf.pages:
                    page_text = page.extract_text()
                    if page_text:
                        text += page_text + "\n"
        
        if text.strip():
            return text  # Ù†Ø¬Ø­ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†Øµ
    except ImportError:
        logger.warning("pdfplumber not available, trying PyPDF2")
    except Exception as e:
        logger.warning(f"pdfplumber failed: {e}, trying PyPDF2")
    
    # Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… PyPDF2 ÙƒØ¨Ø¯ÙŠÙ„
    try:
        import PyPDF2
        if file_content:
            pdf_file = io.BytesIO(file_content)
            pdf_reader = PyPDF2.PdfReader(pdf_file)
        else:
            pdf_reader = PyPDF2.PdfReader(file_path)
        
        for page in pdf_reader.pages:
            page_text = page.extract_text()
            if page_text:
                text += page_text + "\n"
        
        return text
    except ImportError:
        raise ImportError("Neither pdfplumber nor PyPDF2 is installed. Please install at least one")
```

**Ø¬) Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù„ØµÙŠØº Ø§Ù„Ø£Ø®Ø±Ù‰:**
Ù„ØµÙŠØº DOCX Ùˆ XLSX (Ø§Ù„Ø³Ø·ÙˆØ± 123-190)ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªÙˆÙÙŠØ± Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø©:

```python
def _extract_docx(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    try:
        from docx import Document
        # ... Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ
    except ImportError:
        raise ImportError("python-docx is not installed. Please install: pip install python-docx")
    except Exception as e:
        logger.error(f"Error extracting DOCX: {e}")
        raise
```

**Ø¯) Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
ÙÙŠ Ø¯Ø§Ù„Ø© `extract_text()` (Ø§Ù„Ø³Ø·ÙˆØ± 25-51)ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:

```python
def extract_text(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    file_ext = Path(file_path).suffix.lower()
    
    if file_ext not in self.supported_formats:
        raise ValueError(f"Unsupported file format: {file_ext}")
    
    try:
        extractor_func = self.supported_formats[file_ext]
        return extractor_func(file_path, file_content)
    except Exception as e:
        logger.error(f"Error extracting text from {file_path}: {e}")
        raise Exception(f"Failed to extract text from file: {str(e)}")
```

#### 1.3.3 Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…

**Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:**
1. âœ… **Ø§Ù„Ù…Ø±ÙˆÙ†Ø©:** Ø¯Ø¹Ù… Ù…ÙƒØªØ¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù†ÙØ³ Ø§Ù„ØµÙŠØºØ© ÙŠØ²ÙŠØ¯ Ù…Ù† Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ù†Ø¬Ø§Ø­ Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬
2. âœ… **Ø§Ù„ÙˆØ¶ÙˆØ­:** Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø© ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ù„Ù‰ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
3. âœ… **Ø§Ù„Ù‚Ø§Ø¨Ù„ÙŠØ© Ù„Ù„ØªÙˆØ³Ø¹:** Ø³Ù‡ÙˆÙ„Ø© Ø¥Ø¶Ø§ÙØ© ØµÙŠØº Ø¬Ø¯ÙŠØ¯Ø© Ø£Ùˆ Ù…ÙƒØªØ¨Ø§Øª Ø¨Ø¯ÙŠÙ„Ø©
4. âœ… **Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©:** Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù„Ù ÙˆØ§Ø­Ø¯

**Ø§Ù„Ù…Ù‚Ø§ÙŠØ¶Ø© (Trade-off):**
- **Ø§Ù„ØªØ¹Ù‚ÙŠØ¯:** Ø¯Ø¹Ù… Ù…ÙƒØªØ¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© ÙŠØ²ÙŠØ¯ Ù…Ù† ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ù‚Ù„ÙŠÙ„Ø§Ù‹
- **Ø§Ù„Ø£Ø¯Ø§Ø¡:** Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù‚Ø¯ ÙŠØ¨Ø·Ø¦ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹

**Ø§Ù„Ø®Ù„Ø§ØµØ©:**
Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ ÙŠÙˆÙØ± Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙˆÙ†Ø© ÙˆØ§Ù„Ù‚Ø§Ø¨Ù„ÙŠØ© Ù„Ù„ØªÙˆØ³Ø¹.

---

### 1.4 Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### 1.4.1 ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªÙ†ÙˆØ¹Ø© ØªØ´Ù…Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„Ø³ÙŠØ§Ø³Ø§ØªØŒ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§ØªØŒ Ø§Ù„Ø³Ø¬Ù„Ø§ØªØŒ ÙˆØ§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙƒØªØ´ÙØ©. ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ø§Ø³Ø¨ ÙŠÙˆÙØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.

**Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©:**
- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†:** Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„Ø¬Ù„Ø³Ø§Øª
- **Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª:** Ù‚ÙˆØ§Ø¹Ø¯ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- **Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª:** ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ù…Ø¹ Ø§Ù„ØªÙØ§ØµÙŠÙ„
- **Ø§Ù„Ø³Ø¬Ù„Ø§Øª:** Ø³Ø¬Ù„ Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø©
- **Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙƒØªØ´ÙØ©:** Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ø§Ù„Ù…ÙƒØªØ´ÙØ© (Ù…Ø´ÙØ±Ø©)

**Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:**
- Ø§Ø³ØªØ®Ø¯Ø§Ù… SQLAlchemy ÙƒÙ€ ORM Ù„Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± Ù…ØªØºÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø© `DATABASE_URL`

**Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
ÙˆØ§Ø¬Ù‡Ù†Ø§ ØªØ­Ø¯ÙŠØ§Ù‹ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¸Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨:

1. **Ù…ØªØ·Ù„Ø¨Ø§Øª PostgreSQL:**
   - ÙŠØªØ·Ù„Ø¨ ØªØ«Ø¨ÙŠØª Ø®Ø§Ø¯Ù… PostgreSQL Ù…Ù†ÙØµÙ„
   - ÙŠØ­ØªØ§Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
   - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ù‚Ø¨Ù„ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
   - ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† PostgreSQL Ù…Ø«Ø¨ØªØ§Ù‹ Ø£Ùˆ Ù…ØªØ§Ø­Ø§Ù‹

2. **Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬:**
   - ÙŠØ­ØªØ§Ø¬ Ù†Ø¸Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù‚ÙˆÙŠ ÙˆÙ…ÙˆØ«ÙˆÙ‚
   - ÙŠØ¬Ø¨ Ø¯Ø¹Ù… Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© (Concurrent Connections)
   - ÙŠØ­ØªØ§Ø¬ Connection Pooling Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ù…Ø«Ù„

#### 1.4.2 Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

Ø¨Ø¹Ø¯ Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø§Ø®ØªÙŠØ§Ø± **PostgreSQL** ÙƒÙ†Ø¸Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ù†Ø¸Ø§Ù…ØŒ Ù…Ø¹ ØªØ·Ø¨ÙŠÙ‚ Connection Pooling Ù…Ø­Ø³Ù‘Ù†.

**Ù…Ø¨Ø±Ø±Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±:**
1. **Ø§Ù„Ø£Ø¯Ø§Ø¡:** PostgreSQL ÙŠÙˆÙØ± Ø£Ø¯Ø§Ø¡Ù‹ Ù…Ù…ØªØ§Ø²Ø§Ù‹ Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
2. **Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©:** Ù†Ø¸Ø§Ù… ACID-compliant ÙŠØ¶Ù…Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. **Ø§Ù„Ù…ÙŠØ²Ø§Øª:** Ø¯Ø¹Ù… Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ù€ Full-text searchØŒ JSONØŒ ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
4. **Ø§Ù„Ù…Ø±ÙˆÙ†Ø©:** Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø¹Ù„Ù‰ Ø­Ø¯ Ø³ÙˆØ§Ø¡

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ:**

**Ø£) Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„:**
ÙÙŠ Ù…Ù„Ù `backend/app/config.py` (Ø§Ù„Ø³Ø·ÙˆØ± 24-28):

```python
DATABASE_URL: str = os.getenv(
    "DATABASE_URL",
    "postgresql://user:password@localhost:5432/Secure_db"
)
```

**Ø¨) Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø­Ø±Ùƒ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:**
ÙÙŠ Ù…Ù„Ù `backend/app/database.py` (Ø§Ù„Ø³Ø·ÙˆØ± 10-18):

```python
database_url = settings.DATABASE_URL

engine = create_engine(
    database_url,
    pool_pre_ping=True,      # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
    pool_size=10,            # Ø¹Ø¯Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    max_overflow=20,         # Ø¹Ø¯Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø©
    echo=False               # ØªØ¹Ø·ÙŠÙ„ Ø·Ø¨Ø§Ø¹Ø© SQL queries
)
```

**Ø¬) Connection Pooling:**
ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Connection Pooling Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡:
- **pool_size=10:** ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ 10 Ø§ØªØµØ§Ù„Ø§Øª Ù†Ø´Ø·Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹
- **max_overflow=20:** ÙŠØ³Ù…Ø­ Ø¨Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø­ØªÙ‰ 30 Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
- **pool_pre_ping=True:** ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

#### 1.4.3 Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…

**Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:**
1. âœ… **Ø§Ù„Ø£Ø¯Ø§Ø¡:** Connection Pooling ÙŠØ­Ø³Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ±
2. âœ… **Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©:** PostgreSQL ÙŠÙˆÙØ± Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬
3. âœ… **Ø§Ù„Ù…Ø±ÙˆÙ†Ø©:** ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬
4. âœ… **Ø§Ù„Ù‚Ø§Ø¨Ù„ÙŠØ© Ù„Ù„ØªÙˆØ³Ø¹:** PostgreSQL ÙŠØ¯Ø¹Ù… Ø§Ù„ØªÙˆØ³Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ ÙˆØ§Ù„Ø¹Ù…ÙˆØ¯ÙŠ

**Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:**
- âš ï¸ ÙŠØªØ·Ù„Ø¨ ØªØ«Ø¨ÙŠØª ÙˆØªØ´ØºÙŠÙ„ PostgreSQL Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡
- âš ï¸ ÙŠØ­ØªØ§Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ø³ØªØ®Ø¯Ù…

**Ø§Ù„Ø®Ù„Ø§ØµØ©:**
Ø§Ø®ØªÙŠØ§Ø± PostgreSQL ÙŠÙˆÙØ± Ø£Ø³Ø§Ø³Ø§Ù‹ Ù‚ÙˆÙŠØ§Ù‹ ÙˆÙ…ÙˆØ«ÙˆÙ‚Ø§Ù‹ Ù„Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.

---

### 1.5 Ù…Ø´ÙƒÙ„Ø© Ø§ÙƒØªØ´Ø§Ù Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©

#### 1.5.1 ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙŠØ¨ (HTMLØŒ CSSØŒ JavaScript) Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù…Ø¬Ù„Ø¯ `frontend/static/`. FastAPI ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø±Ø¨Ø· Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù„ØªÙ‚Ø¯ÙŠÙ…Ù‡Ø§ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù….

**Ø§Ù„Ø³ÙŠØ§Ù‚:**
- Ø§Ù„Ù…Ù„ÙØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ: `frontend/static/index.html`
- Ø¹Ù†Ø¯ ÙØªØ­ `http://localhost:8000`ØŒ ÙŠØ¬Ø¨ Ø¹Ø±Ø¶ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
- FastAPI ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ù…Ù„ÙØ§Øª

**Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
ÙˆØ§Ø¬Ù‡Ù†Ø§ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©:

1. **Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„:**
   - Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† `backend/`ØŒ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù†Ø³Ø¨ÙŠ Ù…Ø®ØªÙ„Ù
   - Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† Ø¬Ø°Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø§Ù„Ù…Ø³Ø§Ø± Ù…Ø®ØªÙ„Ù
   - ÙÙŠ Ø¨ÙŠØ¦Ø© DockerØŒ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ù…Ø®ØªÙ„ÙØ© ØªÙ…Ø§Ù…Ø§Ù‹
   - ÙÙŠ Ø¨ÙŠØ¦Ø§Øª CloudØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ù…Ø®ØªÙ„ÙØ©

2. **ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª:**
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø±Ø§Øª Ø«Ø§Ø¨ØªØ© Ù…Ø«Ù„ `"frontend/static/index.html"` ÙŠÙØ´Ù„ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„
   - Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ù‰ Ø®Ø·Ø£ 404 Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
   - Ù‡Ø°Ø§ ÙŠØ¤Ø«Ø± Ø³Ù„Ø¨Ø§Ù‹ Ø¹Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

3. **Ø¹Ø¯Ù… Ø§Ù„Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø§Ù„Ù†Ø´Ø±:**
   - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©
   - ÙŠØªØ·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ù„ÙƒÙ„ Ø¨ÙŠØ¦Ø©

#### 1.5.2 Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø§Ù… **Dynamic Path Discovery** (Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ) Ø§Ù„Ø°ÙŠ ÙŠØ­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ù…Ù„Ù Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ.

**Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ù…ØªØ¨Ø¹:**
1. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù„Ù:** Ø§Ø³ØªØ®Ø¯Ø§Ù… `__file__` Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù†Ø³Ø¨ÙŠ
2. **Ø¯Ø¹Ù… Ù…Ø³Ø§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©:** Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø¨Ø¯ÙŠÙ„Ø© Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙˆÙ„
3. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ù‡Ø§Ø¯Ø¦:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ:**

**Ø£) Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:**
ÙÙŠ Ù…Ù„Ù `backend/app/main.py` (Ø§Ù„Ø³Ø·ÙˆØ± 61-89):

```python
try:
    # Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø­Ø§Ù„ÙŠ
    current_file = os.path.abspath(__file__)  # backend/app/main.py
    app_dir = os.path.dirname(current_file)    # backend/app
    backend_dir = os.path.dirname(app_dir)    # backend
    project_root = os.path.dirname(backend_dir)  # project root
    
    static_dir = os.path.join(project_root, "frontend", "static")
    logger.info(f"Static files directory: {static_dir}")
    logger.info(f"Static directory exists: {os.path.exists(static_dir)}")
    
    if os.path.exists(static_dir):
        app.mount("/static", StaticFiles(directory=static_dir), name="static")
        logger.info(f"Static files mounted successfully at /static")
    else:
        logger.warning(f"Static directory not found: {static_dir}")
        # Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„ (Ø¥Ø°Ø§ Ø´ØºÙ„Øª Ù…Ù† backend/)
        alt_static_dir = os.path.join(backend_dir, "frontend", "static")
        if os.path.exists(alt_static_dir):
            app.mount("/static", StaticFiles(directory=alt_static_dir), name="static")
            logger.info(f"Static files mounted from alternative path: {alt_static_dir}")
except Exception as e:
    logger.warning(f"Could not mount static files: {e}")
    # Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ù…Ù„ÙØ§Øª Ø«Ø§Ø¨ØªØ©
```

**Ø¨) Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø°Ø± Ù…Ø¹ Ø§ÙƒØªØ´Ø§Ù Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:**
ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ù„Ù (Ø§Ù„Ø³Ø·ÙˆØ± 136-164):

```python
@app.get("/", include_in_schema=False)
async def root():
    # Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
    current_file = os.path.abspath(__file__)
    app_dir = os.path.dirname(current_file)
    backend_dir = os.path.dirname(app_dir)
    project_root = os.path.dirname(backend_dir)
    
    static_dir = os.path.join(project_root, "frontend", "static")
    index_path = os.path.join(static_dir, "index.html")
    
    logger.info(f"Looking for index.html at: {index_path}")
    logger.info(f"File exists: {os.path.exists(index_path)}")
    
    if os.path.exists(index_path):
        return FileResponse(index_path, media_type="text/html")
    
    # Fallback: Ø¥Ø±Ø¬Ø§Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª API Ø¥Ø°Ø§ Ù„Ù… ÙŠÙÙˆØ¬Ø¯ HTML
    return {
        "name": settings.APP_NAME,
        "version": settings.APP_VERSION,
        "status": "operational",
        "docs": "/docs",
        "frontend": "Frontend not found. Please check frontend/static/index.html"
    }
```

#### 1.5.3 Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…

**Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:**
1. âœ… **Ø§Ù„Ù…Ø±ÙˆÙ†Ø©:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ù† Ø£ÙŠ Ù…ÙˆÙ‚Ø¹ (Ø¬Ø°Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ backend/ØŒ DockerØŒ Cloud)
2. âœ… **Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©:** Ø¯Ø¹Ù… Ù…Ø³Ø§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© ÙŠØ²ÙŠØ¯ Ù…Ù† Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª
3. âœ… **Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©
4. âœ… **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±:** ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø¨Ø¯ÙˆÙ† ØªØ¹Ø¯ÙŠÙ„Ø§Øª

**Ø§Ù„Ù…Ù‚Ø§ÙŠØ¶Ø© (Trade-off):**
- **Ø§Ù„Ø£Ø¯Ø§Ø¡:** Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø± ÙÙŠ ÙƒÙ„ Ø·Ù„Ø¨ Ù‚Ø¯ ÙŠØ¨Ø·Ø¦ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹ (ÙŠÙ…ÙƒÙ† ØªØ­Ø³ÙŠÙ†Ù‡ Ø¨Ø§Ù„Ù€ Caching)
- **Ø§Ù„ØªØ¹Ù‚ÙŠØ¯:** Ø§Ù„ÙƒÙˆØ¯ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ÙƒÙ†Ù‡ ÙŠÙˆÙØ± Ù…Ø±ÙˆÙ†Ø© Ø£ÙƒØ¨Ø±

**Ø§Ù„Ø®Ù„Ø§ØµØ©:**
Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ ÙŠÙˆÙØ± Ù…Ø±ÙˆÙ†Ø© Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.

---

## 1.6 Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ÙˆØ§Ù„Ø­Ù„ÙˆÙ„

### Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„Ø¹Ø§Ù…Ø©

Ø®Ù„Ø§Ù„ Ù…Ø±Ø­Ù„Ø© ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ ÙˆØ§Ø¬Ù‡Ù†Ø§ Ø®Ù…Ø³ Ù…Ø´Ø§ÙƒÙ„ Ø±Ø¦ÙŠØ³ÙŠØ© ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©:

1. **Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Spacy:** ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… Fallback Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª (Graceful Degradation)
2. **Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ MyDLP:** ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© (Simulation Mode)
3. **Ù…Ø´ÙƒÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ:** ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ù„Ù„Ù…ÙƒØªØ¨Ø§Øª (Multiple Library Support)
4. **Ø§Ø®ØªÙŠØ§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:** ØªÙ… Ø§Ø®ØªÙŠØ§Ø± PostgreSQL Ù…Ø¹ Connection Pooling Ù…Ø­Ø³Ù‘Ù†
5. **Ù…Ø´ÙƒÙ„Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª:** ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ (Dynamic Path Discovery)

### Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ø³ØªÙØ§Ø¯Ø©

1. **Ø§Ù„Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…:** ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ù„ÙŠØ¹Ù…Ù„ Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
2. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ù‡Ø§Ø¯Ø¦:** Ø¹Ø¯Ù… Ø±ÙØ¹ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
3. **Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„:** ØªÙˆÙÙŠØ± Ø£Ù†Ø¸Ù…Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
4. **Ø§ÙƒØªØ´Ø§Ù Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:** Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø«Ø§Ø¨ØªØ©

### Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†Ø¸Ø§Ù…

Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø© Ø³Ø§Ù‡Ù…Øª ÙÙŠ:
- âœ… **Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©:** Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª
- âœ… **ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†:** Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±
- âœ… **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±:** ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ù…Ø®ØªÙ„ÙØ©
- âœ… **Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©:** Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©

---

## 2. ÙƒÙŠÙ ØªÙ… Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### 2.1 Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© (Architecture)

Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ **Ù…Ø¹Ù…Ø§Ø±ÙŠØ© FastAPI** Ù…Ø¹ ÙØµÙ„ ÙˆØ§Ø¶Ø­ Ù„Ù„Ø·Ø¨Ù‚Ø§Øª:

```
Integrated_Data_Protection_System/
â”œâ”€â”€ backend/                    # Ø§Ù„Ø®Ù„ÙÙŠØ© (Backend)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py            # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”‚   â”œâ”€â”€ config.py          # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”‚   â”œâ”€â”€ database.py        # Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”‚   â”œâ”€â”€ api/               # ÙˆØ§Ø¬Ù‡Ø§Øª API
â”‚   â”‚   â”‚   â””â”€â”€ routes/        # Ù…Ø³Ø§Ø±Ø§Øª API
â”‚   â”‚   â”œâ”€â”€ models/            # Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”‚   â”œâ”€â”€ schemas/           # Ù†Ù…Ø§Ø°Ø¬ Pydantic
â”‚   â”‚   â”œâ”€â”€ services/          # Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
â”‚   â”‚   â””â”€â”€ utils/             # Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚   â”œâ”€â”€ alembic/               # Migrations
â”‚   â””â”€â”€ requirements.txt       # Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
â”œâ”€â”€ frontend/                   # Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©
â”‚   â””â”€â”€ static/                # Ù…Ù„ÙØ§Øª HTML/CSS/JS
â””â”€â”€ docs/                      # Ø§Ù„ØªÙˆØ«ÙŠÙ‚
```

---

### 2.2 Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª

```bash
cd backend
pip install -r requirements.txt
```

**Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
- `fastapi`: Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ API
- `uvicorn`: Ø®Ø§Ø¯Ù… ASGI
- `sqlalchemy`: ORM Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `presidio-analyzer`: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ
- `cryptography`: Ø§Ù„ØªØ´ÙÙŠØ±
- `python-docx`, `PyPDF2`, `openpyxl`: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª

#### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env
DATABASE_URL=postgresql://user:password@localhost:5432/Secure_db
SECRET_KEY=your-secret-key
ENCRYPTION_KEY=your-32-byte-key

# ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
python init_db.py
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```bash
uvicorn app.main:app --reload --host 127.0.0.1 --port 8000
```

---

### 2.3 Ù†Ù…Ø§Ø°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **User** (`backend/app/models/users.py`): Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†
2. **Policy** (`backend/app/models/policies.py`): Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
3. **Alert** (`backend/app/models/alerts.py`): Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
4. **Log** (`backend/app/models/logs.py`): Ø§Ù„Ø³Ø¬Ù„Ø§Øª
5. **DetectedEntity** (`backend/app/models/logs.py`): Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙƒØªØ´ÙØ©

---

### 2.4 Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

ØªÙ… ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JWT:

```python
# backend/app/services/auth_service.py
from jose import JWTError, jwt
from passlib.context import CryptContext

pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")

def verify_password(plain_password: str, hashed_password: str) -> bool:
    return pwd_context.verify(plain_password, hashed_password)

def get_password_hash(password: str) -> str:
    return pwd_context.hash(password)
```

---

## 3. Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§ØªÙŠ MyDLP Ùˆ Presidio

### 3.1 Ù…ÙˆÙ‚Ø¹ ÙƒÙˆØ¯ Presidio

**Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:** `backend/app/services/presidio_service.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**

1. **`__init__()`**: ØªÙ‡ÙŠØ¦Ø© Presidio Analyzer
2. **`analyze()`**: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
3. **`_analyze_with_regex()`**: Ù†Ø¸Ø§Ù… Fallback Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Regex
4. **`is_sensitive()`**: ÙØ­Øµ ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø©
5. **`get_supported_entities()`**: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

**Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ `config.py`:**

```python
PRESIDIO_LANGUAGE: str = "ar"  # Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
PRESIDIO_SUPPORTED_ENTITIES: str = "PERSON,PHONE_NUMBER,EMAIL_ADDRESS,CREDIT_CARD,ADDRESS,ORGANIZATION"
```

---

### 3.2 Ù…ÙˆÙ‚Ø¹ ÙƒÙˆØ¯ MyDLP

**Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:** `backend/app/services/mydlp_service.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**

1. **`__init__()`**: ØªÙ‡ÙŠØ¦Ø© Ø®Ø¯Ù…Ø© MyDLP
2. **`block_data_transfer()`**: Ù…Ù†Ø¹ Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. **`block_email()`**: Ù…Ù†Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯
4. **`monitor_network_traffic()`**: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ø´Ø¨ÙƒØ©
5. **`create_policy()`**: Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ§Ø³Ø© ÙÙŠ MyDLP
6. **`_make_request()`**: Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ø§Øª API Ø¥Ù„Ù‰ MyDLP

**Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ `config.py`:**

```python
MYDLP_ENABLED: bool = True  # ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ MyDLP
MYDLP_API_URL: str = "http://localhost:8080"  # Ø¹Ù†ÙˆØ§Ù† API
MYDLP_API_KEY: str = ""  # Ù…ÙØªØ§Ø­ API (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
```

---

### 3.3 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§ØªÙŠÙ†

**Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:** `backend/app/services/policy_service.py`

Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ¯Ù…Ø¬ Presidio Ùˆ MyDLP:

```python
class PolicyService:
    def __init__(self):
        self.presidio = PresidioService()  # Presidio Ù„Ù„ØªØ­Ù„ÙŠÙ„
        self.mydlp = MyDLPService()        # MyDLP Ù„Ù„Ù…Ù†Ø¹
        self.encryption = EncryptionService()  # Ø§Ù„ØªØ´ÙÙŠØ±
    
    def apply_policy(self, db, text, ...):
        # 1. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Presidio
        detected_entities = self.presidio.analyze(text)
        
        # 2. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
        for policy in policies:
            if policy.action == "block":
                # 3. Ù…Ù†Ø¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… MyDLP
                self.mydlp.block_data_transfer(...)
```

---

## 4. Ø´Ø±Ø­ ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ø£Ø¯Ø§ØªÙŠÙ† Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯

### 4.1 Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ (Complete Workflow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±ÙØ¹  â”‚
â”‚  Ù…Ù„Ù Ø£Ùˆ Ù†Øµ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File Extractor â”‚  â† Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„Ù
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Presidio Serviceâ”‚  â† ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
â”‚   (Analyze)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Policy Service  â”‚  â† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
â”‚  (Apply Rules)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MyDLP Service  â”‚  â† Ù…Ù†Ø¹ Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±)
â”‚    (Block)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database &     â”‚  â† Ø­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
â”‚   Alerts        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.2 Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ: ØªØ­Ù„ÙŠÙ„ Ù†Øµ

**Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ `backend/app/api/routes/analysis.py`:**

```python
@router.post("/", response_model=AnalysisResponse)
async def analyze_text(request: AnalysisRequest, ...):
    if request.apply_policies:
        # ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª (ÙŠØªØ¶Ù…Ù† ØªØ­Ù„ÙŠÙ„ Presidio)
        result = policy_service.apply_policy(
            db=db,
            text=request.text,
            source_ip=request.source_ip,
            source_user=source_user
        )
        return AnalysisResponse(
            sensitive_data_detected=result["sensitive_data_detected"],
            detected_entities=result["detected_entities"],
            actions_taken=result["actions_taken"],
            blocked=result["blocked"]
        )
```

**Ù…Ø§ ÙŠØ­Ø¯Ø« Ø¨Ø§Ù„ØªÙØµÙŠÙ„:**

1. **Presidio ÙŠØ­Ù„Ù„ Ø§Ù„Ù†Øµ:**
```python
# ÙÙŠ presidio_service.py
def analyze(self, text: str, language: str = None):
    results = self.analyzer.analyze(
        text=text,
        language=language,
        entities=self.supported_entities
    )
    # Ø¥Ø±Ø¬Ø§Ø¹: [{"entity_type": "PHONE_NUMBER", "start": 10, "end": 22, "score": 0.9, "value": "123-456-7890"}]
```

2. **Policy Service ÙŠØ·Ø¨Ù‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:**
```python
# ÙÙŠ policy_service.py
def apply_policy(self, db, text, ...):
    detected_entities = self.presidio.analyze(text)
    
    for policy in policies:
        if policy.action == "block":
            # Ù…Ù†Ø¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… MyDLP
            block_result = self.mydlp.block_data_transfer(
                source_ip=source_ip,
                destination="external",
                detected_entities=detected_entities,
                reason=f"Policy violation: {policy.name}"
            )
```

3. **MyDLP ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ù„:**
```python
# ÙÙŠ mydlp_service.py
def block_data_transfer(self, source_ip, destination, detected_entities, reason):
    if not self.enabled:
        return True  # Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ù†Ø¹
    
    data = {
        "action": "block",
        "source_ip": source_ip,
        "destination": destination,
        "detected_entities": detected_entities,
        "reason": reason
    }
    
    result = self._make_request("POST", "/api/v1/block", data)
    return result is not None
```

---

### 4.3 Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ: ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù

**Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ `backend/app/api/routes/analysis.py`:**

```python
@router.post("/file", response_model=AnalysisResponse)
async def analyze_file(file: UploadFile, ...):
    # 1. Ù‚Ø±Ø§Ø¡Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ù
    file_content = await file.read()
    
    # 2. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„Ù
    extracted_text = file_extractor.extract_text(temp_file_path, file_content)
    
    # 3. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬ (Ù†ÙØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
    if apply_policies:
        result = policy_service.apply_policy(
            db=db,
            text=extracted_text,
            ...
        )
```

---

### 4.4 Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ

**Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ `backend/app/api/routes/email_receiver.py`:**

```python
@router.post("/email")
async def receive_email(email_data: EmailData, ...):
    # 1. ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø±ÙŠØ¯
    text_to_analyze = f"{email_data.subject}\n{email_data.body}"
    
    # 2. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
    result = policy_service.apply_policy(
        db=db,
        text=text_to_analyze,
        source_user=email_data.from_email
    )
    
    # 3. Ù…Ù†Ø¹ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø¥Ø°Ø§ ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø©
    if result["blocked"]:
        mydlp_service.block_email(
            email_id=email_data.id,
            reason="Sensitive data detected"
        )
        return {"status": "blocked", "reason": "Sensitive data detected"}
    
    return {"status": "allowed"}
```

---

## 5. Ø´Ø±Ø­ Ø·Ø±ÙŠÙ‚Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª

### 5.1 Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ø¹Ù… Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **TXT** - Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø§Ø¯ÙŠ
2. **PDF** - Ù…Ø³ØªÙ†Ø¯Ø§Øª PDF
3. **DOCX** - Ù…Ø³ØªÙ†Ø¯Ø§Øª Word (2007+)
4. **XLSX** - Ø¬Ø¯Ø§ÙˆÙ„ Excel (2007+)
5. **DOC** - Ù…Ø³ØªÙ†Ø¯Ø§Øª Word Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© Ù…Ø¨Ø§Ø´Ø±Ø©)
6. **XLS** - Ø¬Ø¯Ø§ÙˆÙ„ Excel Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (ØªØªØ·Ù„Ø¨ xlrd)

---

### 5.2 Ø¢Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬

**Ø§Ù„Ù…Ù„Ù:** `backend/app/services/file_extractor_service.py`

#### 5.2.1 Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† TXT

```python
def _extract_txt(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    if file_content:
        # Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ±Ù…ÙŠØ²Ø§Øª Ù…Ø®ØªÙ„ÙØ©
        for encoding in ['utf-8', 'latin-1', 'cp1252']:
            try:
                return file_content.decode(encoding)
            except UnicodeDecodeError:
                continue
        # Ø§Ø³ØªØ®Ø¯Ø§Ù… utf-8 Ù…Ø¹ ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        return file_content.decode('utf-8', errors='ignore')
    else:
        with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:
            return f.read()
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- Ø¯Ø¹Ù… ØªØ±Ù…ÙŠØ²Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ±Ù…ÙŠØ²
- Ø¯Ø¹Ù… Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø£Ùˆ Ù…Ù† Ø§Ù„Ù‚Ø±Øµ

---

#### 5.2.2 Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† PDF

```python
def _extract_pdf(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    text = ""
    
    # Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… pdfplumber Ø£ÙˆÙ„Ø§Ù‹ (Ø£ÙØ¶Ù„)
    try:
        import pdfplumber
        if file_content:
            pdf_file = io.BytesIO(file_content)
            with pdfplumber.open(pdf_file) as pdf:
                for page in pdf.pages:
                    page_text = page.extract_text()
                    if page_text:
                        text += page_text + "\n"
        
        if text.strip():
            return text
    except ImportError:
        logger.warning("pdfplumber not available, trying PyPDF2")
    
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… PyPDF2 ÙƒØ¨Ø¯ÙŠÙ„
    try:
        import PyPDF2
        if file_content:
            pdf_file = io.BytesIO(file_content)
            pdf_reader = PyPDF2.PdfReader(pdf_file)
        else:
            pdf_reader = PyPDF2.PdfReader(file_path)
        
        for page in pdf_reader.pages:
            page_text = page.extract_text()
            if page_text:
                text += page_text + "\n"
        
        return text
    except ImportError:
        raise ImportError("Neither pdfplumber nor PyPDF2 is installed")
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- Ø¯Ø¹Ù… Ù…ÙƒØªØ¨ØªÙŠÙ† (pdfplumber Ùˆ PyPDF2)
- Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
- Ø¯Ø¹Ù… Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©

---

#### 5.2.3 Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† DOCX

```python
def _extract_docx(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    from docx import Document
    import io
    
    if file_content:
        doc_file = io.BytesIO(file_content)
        doc = Document(doc_file)
    else:
        doc = Document(file_path)
    
    text_parts = []
    
    # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø§Ù„ÙÙ‚Ø±Ø§Øª
    for paragraph in doc.paragraphs:
        if paragraph.text.strip():
            text_parts.append(paragraph.text)
    
    # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
    for table in doc.tables:
        for row in table.rows:
            for cell in row.cells:
                if cell.text.strip():
                    text_parts.append(cell.text)
    
    return "\n".join(text_parts)
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø§Ù„ÙÙ‚Ø±Ø§Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„
- Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù†ÙŠØ©
- Ø¯Ø¹Ù… Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©

---

#### 5.2.4 Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† XLSX

```python
def _extract_xlsx(self, file_path: str, file_content: Optional[bytes] = None) -> str:
    import openpyxl
    import io
    
    if file_content:
        workbook_file = io.BytesIO(file_content)
        workbook = openpyxl.load_workbook(workbook_file, data_only=True)
    else:
        workbook = openpyxl.load_workbook(file_path, data_only=True)
    
    text_parts = []
    
    # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚
    for sheet_name in workbook.sheetnames:
        sheet = workbook[sheet_name]
        text_parts.append(f"Sheet: {sheet_name}")
        
        # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø§Ù„ØµÙÙˆÙ
        for row in sheet.iter_rows(values_only=True):
            row_text = " | ".join(str(cell) if cell is not None else "" for cell in row)
            if row_text.strip():
                text_parts.append(row_text)
        
        text_parts.append("")  # Ø³Ø·Ø± ÙØ§Ø±Øº Ø¨ÙŠÙ† Ø§Ù„Ø£ÙˆØ±Ø§Ù‚
    
    return "\n".join(text_parts)
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚
- Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„
- Ø§Ø³ØªØ®Ø¯Ø§Ù… `data_only=True` Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ… ÙÙ‚Ø·

---

### 5.3 Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„Ù

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±ÙØ¹ Ù…Ù„Ù â”‚
â”‚  (PDF, DOCX, etc.)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ÙˆØ¹    â”‚
â”‚  is_supported()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ extractor  â”‚
â”‚  extract_text()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯Ø§Ù„Ø©      â”‚
â”‚  _extract_pdf()      â”‚
â”‚  _extract_docx()     â”‚
â”‚  _extract_xlsx()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ       â”‚
â”‚  (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ         â”‚
â”‚  (Presidio)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª     â”‚
â”‚  (Policy Service)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.4 Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ ÙƒØ§Ù…Ù„

**Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ:** Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±ÙØ¹ Ù…Ù„Ù PDF ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ù‡Ø§ØªÙ

```python
# 1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±ÙØ¹ Ø§Ù„Ù…Ù„Ù
file = UploadFile(filename="document.pdf", content=pdf_bytes)

# 2. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ
extractor = FileTextExtractor()
text = extractor.extract_text("document.pdf", pdf_bytes)
# Ø§Ù„Ù†ØªÙŠØ¬Ø©: "Contact us at 123-456-7890 for more information."

# 3. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ
presidio = PresidioService()
entities = presidio.analyze(text)
# Ø§Ù„Ù†ØªÙŠØ¬Ø©: [{"entity_type": "PHONE_NUMBER", "start": 14, "end": 26, "score": 0.9, "value": "123-456-7890"}]

# 4. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
policy_service = PolicyService()
result = policy_service.apply_policy(db, text, source_user="user@example.com")
# Ø§Ù„Ù†ØªÙŠØ¬Ø©: {"sensitive_data_detected": True, "blocked": True, "alert_created": True}

# 5. Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
return {
    "sensitive_data_detected": True,
    "detected_entities": entities,
    "blocked": True,
    "message": "File contains sensitive data and has been blocked"
}
```

---

### 5.5 Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **Ù†ÙˆØ¹ Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…:**
```python
if file_ext not in self.supported_formats:
    raise ValueError(f"Unsupported file format: {file_ext}")
```

2. **ÙØ´Ù„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ:**
```python
try:
    extracted_text = file_extractor.extract_text(temp_file_path, file_content)
except Exception as e:
    raise HTTPException(
        status_code=400,
        detail=f"Failed to extract text from file: {str(e)}"
    )
```

3. **Ù…Ù„Ù ÙØ§Ø±Øº:**
```python
if not extracted_text or not extracted_text.strip():
    return AnalysisResponse(
        sensitive_data_detected=False,
        detected_entities=[],
        blocked=False
    )
```

---

## 6. Ø§Ù„Ø®Ù„Ø§ØµØ©

### 6.1 Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡

âœ… **Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„** ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Presidio Ùˆ MyDLP  
âœ… **Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ù„Ù„Ù…Ù„ÙØ§Øª** (PDF, DOCX, XLSX, TXT)  
âœ… **Ù†Ø¸Ø§Ù… Fallback** ÙŠØ¹Ù…Ù„ Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Presidio Ø£Ùˆ MyDLP  
âœ… **ÙˆØ§Ø¬Ù‡Ø© API ÙƒØ§Ù…Ù„Ø©** Ù…Ø¹ ØªÙˆØ«ÙŠÙ‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ  
âœ… **Ù†Ø¸Ø§Ù… Ù…ØµØ§Ø¯Ù‚Ø©** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JWT  
âœ… **Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª** Ù…Ø¹ Migrations  
âœ… **Ù†Ø¸Ø§Ù… ØªÙ†Ø¨ÙŠÙ‡Ø§Øª** Ø´Ø§Ù…Ù„  
âœ… **ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** Ø§Ù„Ø­Ø³Ø§Ø³Ø©  

### 6.2 Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„Ù…Ù„Ù | Ø§Ù„ÙˆØ¸ÙŠÙØ© |
|------|---------|
| `backend/app/services/presidio_service.py` | Ø®Ø¯Ù…Ø© Presidio Ù„Ù„ØªØ­Ù„ÙŠÙ„ |
| `backend/app/services/mydlp_service.py` | Ø®Ø¯Ù…Ø© MyDLP Ù„Ù„Ù…Ù†Ø¹ |
| `backend/app/services/file_extractor_service.py` | Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª |
| `backend/app/services/policy_service.py` | ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª |
| `backend/app/api/routes/analysis.py` | ÙˆØ§Ø¬Ù‡Ø§Øª API Ù„Ù„ØªØ­Ù„ÙŠÙ„ |
| `backend/app/main.py` | Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© |

### 6.3 Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡:** Ø¥Ø¶Ø§ÙØ© Caching Ù„Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
2. **Ø¯Ø¹Ù… Ù„ØºØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©:** ØªØ­Ø³ÙŠÙ† Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Presidio
3. **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø³Ù†Ø©:** Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙŠØ²Ø§Øª
4. **ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…Ø©:** Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø§Ø±ÙŠØ± ØªÙØµÙŠÙ„ÙŠØ©
5. **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ SIEM:** Ø±Ø¨Ø· Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø£Ù†Ø¸Ù…Ø© SIEM

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2024  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0.0
